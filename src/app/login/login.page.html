<div class="h-screen w-screen flex items-center justify-center px-2 relative">

    <app-loading-spinner *ngIf="showLoading" [fullScreen]="true"></app-loading-spinner>
    <app-alert-modal [config]="alertConfig" (result)="errorAlertCallback()"></app-alert-modal>

    <div class="w-full sm:w-3/4 lg:w-1/2 xl:w-1/3 bg-white shadow-md rounded-lg px-8 pt-6 pb-8 mb-4 flex flex-col">

        <h1 class="text-3xl text-center mb-4 text-gray-700">
            Login to your account
        </h1>

        <form [formGroup]="loginForm" (ngSubmit)="login()" class="py-3">

            <input placeholder="Email" required type="email" formControlName="emailAddress"
                   data-cy="'emailAddressInput'"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker">

            <div data-cy="emailWarning"
                 [class.invisible]="!(!loginForm.controls.emailAddress.valid && loginForm.controls.emailAddress.dirty && loginForm.controls.emailAddress.touched)"
                 class="px-3 text-red-400 pt-1 pb-2 text-sm">
                Please enter a valid email address.
            </div>

            <input placeholder="Password" required type="password" formControlName="password" data-cy="passwordInput"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker"/>

            <div data-cy="passwordWarning"
                 [class.invisible]="!(!loginForm.controls.password.valid && loginForm.controls.password.dirty && loginForm.controls.password.touched)"
                 class="px-3 text-red-400 pt-1 pb-2 text-sm">
                Please enter a password containing at least 8 characters.
            </div>

            <div class="flex justify-between">
                <button class="bg-transparent text-brand-400 hover:text-brand-700 py-2"
                        data-cy="signUpButton" type="button" [routerLink]="['/external/sign-up']">Sign up
                </button>
                <button class="bg-brand-500 hover:bg-brand-700 text-white font-bold py-2 px-4 rounded disabled:bg-brand-500 disabled:opacity-50"
                        data-cy="loginButton"
                        type="submit" [disabled]="loginForm.invalid">Login
                </button>
            </div>

        </form>

    </div>

</div>
